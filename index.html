<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Home Purchase & Sale Calculators</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 1.5rem;
      background: #f5f5f7;
      color: #222;
    }
    h1, h2 {
      margin-top: 0;
    }
    .container {
      max-width: 1100px;
      margin: 0 auto;
    }
    .card {
      background: #fff;
      border-radius: 8px;
      padding: 1.25rem 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }
    .card h2 {
      margin-bottom: 0.5rem;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 0.75rem 1.5rem;
      align-items: flex-end;
    }
    label {
      font-size: 0.85rem;
      font-weight: 600;
      display: block;
      margin-bottom: 0.15rem;
    }
    input[type="number"] {
      width: 100%;
      padding: 0.35rem 0.45rem;
      border-radius: 4px;
      border: 1px solid #ccc;
      font-size: 0.9rem;
      box-sizing: border-box;
    }
    .output {
      font-weight: 600;
      font-size: 0.95rem;
      padding: 0.35rem 0.45rem;
      background: #f0f2f5;
      border-radius: 4px;
      min-height: 1.8rem;
      display: flex;
      align-items: center;
    }
    .section-title {
      font-size: 0.9rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: #666;
      margin-bottom: 0.5rem;
    }
    .note {
      font-size: 0.8rem;
      color: #666;
      margin-top: 0.25rem;
    }
    .two-col {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 1.5rem;
    }
    @media (max-width: 600px) {
      body {
        padding: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Home Purchase & Sale Calculators</h1>

    <!-- ===================== HOME PURCHASE CALCULATORS ===================== -->
    <div class="card">
      <div class="section-title">Home Purchase Calculators</div>
      <div class="two-col">
        <!-- Home Purchase Calculator 1 -->
        <div>
          <h2>Home Purchase Calculator</h2>
          <p class="note">Home Purchase Estimator</p>
          <div class="grid">
            <div>
              <label for="hp1_rate">Rate %</label>
              <input type="number" id="hp1_rate" value="5.875" step="0.01" />
            </div>
            <div>
              <label for="hp1_points">Loan Points %</label>
              <input type="number" id="hp1_points" value="1.5" step="0.01" />
            </div>
            <div>
              <label for="hp1_n">Number of Payments</label>
              <input type="number" id="hp1_n" value="360" />
            </div>
            <div>
              <label for="hp1_price">Home Sale Price</label>
              <input type="number" id="hp1_price" value="750000" />
            </div>
            <div>
              <label for="hp1_orig">Origination Fees / Closing</label>
              <input type="number" id="hp1_orig" value="1000" />
            </div>
            <div>
              <label for="hp1_down">Down Payment</label>
              <input type="number" id="hp1_down" value="400000" />
            </div>
            <div>
              <label for="hp1_tax_annual">Property Taxes Est. (Annual)</label>
              <input type="number" id="hp1_tax_annual" value="0" />
              <div class="note">*Estimated for McLean Cty</div>
            </div>
            <div>
              <label for="hp1_hoa">HOA Monthly Dues</label>
              <input type="number" id="hp1_hoa" value="0" />
            </div>
            <div>
              <label for="hp1_ins">Insurance Cost Monthly</label>
              <input type="number" id="hp1_ins" value="0" />
            </div>
            <div>
              <label for="hp1_pmi">PMI Cost Monthly</label>
              <input type="number" id="hp1_pmi" value="0" />
            </div>

            <div>
              <label>Amount Borrowed</label>
              <div class="output" id="hp1_borrowed"></div>
            </div>
            <div>
              <label>Monthly Loan Payment</label>
              <div class="output" id="hp1_pmt"></div>
            </div>
            <div>
              <label>Down Payment Req. (20%)</label>
              <div class="output" id="hp1_down_req"></div>
              <div class="note">* For 20% Down</div>
            </div>
            <div>
              <label>Total Monthly Payment</label>
              <div class="output" id="hp1_total_monthly"></div>
            </div>
            <div>
              <label>Cash Due at Closing</label>
              <div class="output" id="hp1_cash_closing"></div>
            </div>
          </div>
        </div>

        <!-- Home Purchase Calculator 2 -->
        <div>
          <h2>Home Purchase Calculator (2)</h2>
          <p class="note">Home Purchase Estimator</p>
          <div class="grid">
            <div>
              <label for="hp2_rate">Rate %</label>
              <input type="number" id="hp2_rate" value="6.25" step="0.01" />
            </div>
            <div>
              <label for="hp2_points">Loan Points %</label>
              <input type="number" id="hp2_points" value="0.5" step="0.01" />
            </div>
            <div>
              <label for="hp2_n">Number of Payments</label>
              <input type="number" id="hp2_n" value="360" />
            </div>
            <div>
              <label for="hp2_price">Home Sale Price</label>
              <input type="number" id="hp2_price" value="254900" />
            </div>
            <div>
              <label for="hp2_orig">Origination Fees / Closing</label>
              <input type="number" id="hp2_orig" value="1000" />
            </div>
            <div>
              <label for="hp2_down">Down Payment</label>
              <input type="number" id="hp2_down" value="50000" />
            </div>
            <div>
              <label for="hp2_tax_annual">Property Taxes Est. (Annual)</label>
              <input type="number" id="hp2_tax_annual" value="0" />
              <div class="note">*Estimated for McLean Cty</div>
            </div>
            <div>
              <label for="hp2_hoa">HOA Monthly Dues</label>
              <input type="number" id="hp2_hoa" value="48" />
            </div>
            <div>
              <label for="hp2_ins">Insurance Cost Monthly</label>
              <input type="number" id="hp2_ins" value="0" />
            </div>
            <div>
              <label for="hp2_pmi">PMI Cost Monthly</label>
              <input type="number" id="hp2_pmi" value="0" />
            </div>

            <div>
              <label>Amount Borrowed</label>
              <div class="output" id="hp2_borrowed"></div>
            </div>
            <div>
              <label>Monthly Loan Payment</label>
              <div class="output" id="hp2_pmt"></div>
            </div>
            <div>
              <label>Down Payment Req. (20%)</label>
              <div class="output" id="hp2_down_req"></div>
              <div class="note">* For 20% Down</div>
            </div>
            <div>
              <label>Total Monthly Payment</label>
              <div class="output" id="hp2_total_monthly"></div>
            </div>
            <div>
              <label>Cash Due at Closing</label>
              <div class="output" id="hp2_cash_closing"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===================== HOME SELL CALCULATORS ===================== -->
    <div class="card">
      <div class="section-title">Home Sell Calculators</div>
      <div class="two-col">
        <!-- Home Sell Calculator 1 -->
        <div>
          <h2>Home Sell Calculator</h2>
          <p class="note">Home Sale Proceeds Estimator</p>
          <div class="grid">
            <div>
              <label for="hs1_mort_balance">Current Mortgage Balance</label>
              <input type="number" id="hs1_mort_balance" value="120000" />
              <div class="note">* Enter amount still owed on current mortgage</div>
            </div>
            <div>
              <label for="hs1_sale_price">Sale Price</label>
              <input type="number" id="hs1_sale_price" value="190000" />
            </div>
            <div>
              <label for="hs1_agent_pct">Agent Commission %</label>
              <input type="number" id="hs1_agent_pct" value="6" step="0.1" />
            </div>
            <div>
              <label>Total Agent Commissions</label>
              <div class="output" id="hs1_agent_comm"></div>
            </div>
            <div>
              <label for="hs1_prop_tax">Current Property Taxes (Annual)</label>
              <input type="number" id="hs1_prop_tax" value="3067" />
              <div class="note">* Enter annual amount of current Property Taxes</div>
            </div>
            <div>
              <label for="hs1_month_sold">Month # Sold</label>
              <input type="number" id="hs1_month_sold" value="10" min="1" max="12" />
              <div class="note">* Ex: Sold in October = 10, Sold in May = 5, etc.</div>
            </div>
            <div>
              <label>Tax Credit to Buyer</label>
              <div class="output" id="hs1_tax_credit"></div>
            </div>
            <div>
              <label for="hs1_repairs">Selling Concessions / Repairs</label>
              <input type="number" id="hs1_repairs" value="1000" />
              <div class="note">* Enter amounts to repair/remedy items</div>
            </div>
            <div>
              <label>Closing Costs Est.</label>
              <div class="output" id="hs1_closing_costs"></div>
              <div class="note">Calculated - Can be entered manually instead</div>
            </div>
            <div>
              <label for="hs1_atty">Atty Fees</label>
              <input type="number" id="hs1_atty" value="500" />
              <div class="note">* Enter attorney Fees</div>
            </div>
            <div>
              <label>Gross Proceeds</label>
              <div class="output" id="hs1_gross"></div>
            </div>
            <div>
              <label>Net Proceeds</label>
              <div class="output" id="hs1_net"></div>
            </div>
          </div>
        </div>

        <!-- Home Sell Calculator 2 -->
        <div>
          <h2>Home Sell Calculator (2)</h2>
          <p class="note">Home Sale Proceeds Estimator</p>
          <div class="grid">
            <div>
              <label for="hs2_mort_balance">Current Mortgage Balance</label>
              <input type="number" id="hs2_mort_balance" value="120000" />
              <div class="note">* Enter amount still owed on current mortgage</div>
            </div>
            <div>
              <label for="hs2_sale_price">Sale Price</label>
              <input type="number" id="hs2_sale_price" value="190000" />
            </div>
            <div>
              <label for="hs2_agent_pct">Agent Commission %</label>
              <input type="number" id="hs2_agent_pct" value="6" step="0.1" />
            </div>
            <div>
              <label>Total Agent Commissions</label>
              <div class="output" id="hs2_agent_comm"></div>
            </div>
            <div>
              <label for="hs2_prop_tax">Current Property Taxes (Annual)</label>
              <input type="number" id="hs2_prop_tax" value="3067" />
              <div class="note">* Enter annual amount of current Property Taxes</div>
            </div>
            <div>
              <label for="hs2_month_sold">Month # Sold</label>
              <input type="number" id="hs2_month_sold" value="10" min="1" max="12" />
              <div class="note">* Ex: Sold in October = 10, Sold in May = 5, etc.</div>
            </div>
            <div>
              <label>Tax Credit to Buyer</label>
              <div class="output" id="hs2_tax_credit"></div>
            </div>
            <div>
              <label for="hs2_repairs">Selling Concessions / Repairs</label>
              <input type="number" id="hs2_repairs" value="1000" />
              <div class="note">* Enter amounts to repair/remedy items</div>
            </div>
            <div>
              <label>Closing Costs Est.</label>
              <div class="output" id="hs2_closing_costs"></div>
              <div class="note">Calculated - Can be entered manually instead</div>
            </div>
            <div>
              <label for="hs2_atty">Atty Fees</label>
              <input type="number" id="hs2_atty" value="500" />
              <div class="note">* Enter attorney Fees</div>
            </div>
            <div>
              <label>Gross Proceeds</label>
              <div class="output" id="hs2_gross"></div>
            </div>
            <div>
              <label>Net Proceeds</label>
              <div class="output" id="hs2_net"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== JAVASCRIPT LOGIC ===================== -->
  <script>
    function fmtMoney(x) {
      if (isNaN(x) || !isFinite(x)) return "";
      return x.toLocaleString(undefined, { style: "currency", currency: "USD", maximumFractionDigits: 0 });
    }

    function mortgagePayment(principal, annualRatePct, nPayments) {
      const r = (annualRatePct / 100) / 12;
      if (r === 0 || nPayments === 0) return principal / Math.max(nPayments, 1);
      const pow = Math.pow(1 + r, nPayments);
      return principal * (r * pow) / (pow - 1);
    }

    function updateHomePurchase(prefix) {
      const rate = parseFloat(document.getElementById(prefix + "_rate").value) || 0;
      const pointsPct = parseFloat(document.getElementById(prefix + "_points").value) || 0;
      const n = parseFloat(document.getElementById(prefix + "_n").value) || 0;
      const price = parseFloat(document.getElementById(prefix + "_price").value) || 0;
      const orig = parseFloat(document.getElementById(prefix + "_orig").value) || 0;
      const down = parseFloat(document.getElementById(prefix + "_down").value) || 0;
      const taxAnnual = parseFloat(document.getElementById(prefix + "_tax_annual").value) || 0;
      const hoa = parseFloat(document.getElementById(prefix + "_hoa").value) || 0;
      const ins = parseFloat(document.getElementById(prefix + "_ins").value) || 0;
      const pmi = parseFloat(document.getElementById(prefix + "_pmi").value) || 0;

      const borrowed = Math.max(price - down, 0);
      const pmt = mortgagePayment(borrowed, rate, n);
      const downReq = price * 0.20;
      const taxMonthly = taxAnnual / 12;
      const totalMonthly = pmt + hoa + ins + pmi + taxMonthly;

      const loanPointsCost = borrowed * (pointsPct / 100);
      const cashClosing = down + loanPointsCost + orig;

      document.getElementById(prefix + "_borrowed").textContent = fmtMoney(borrowed);
      document.getElementById(prefix + "_pmt").textContent = fmtMoney(pmt);
      document.getElementById(prefix + "_down_req").textContent = fmtMoney(downReq);
      document.getElementById(prefix + "_total_monthly").textContent = fmtMoney(totalMonthly);
      document.getElementById(prefix + "_cash_closing").textContent = fmtMoney(cashClosing);
    }

    function updateHomeSell(prefix) {
      const mortBal = parseFloat(document.getElementById(prefix + "_mort_balance").value) || 0;
      const salePrice = parseFloat(document.getElementById(prefix + "_sale_price").value) || 0;
      const agentPct = parseFloat(document.getElementById(prefix + "_agent_pct").value) || 0;
      const propTax = parseFloat(document.getElementById(prefix + "_prop_tax").value) || 0;
      const monthSold = parseFloat(document.getElementById(prefix + "_month_sold").value) || 0;
      const repairs = parseFloat(document.getElementById(prefix + "_repairs").value) || 0;
      const atty = parseFloat(document.getElementById(prefix + "_atty").value) || 0;

      const agentComm = salePrice * (agentPct / 100);
      const taxCredit = propTax * (monthSold / 12); // approximation
      const closingCosts = agentComm + taxCredit + repairs + atty;
      const gross = salePrice - closingCosts;
      const net = gross - mortBal;

      document.getElementById(prefix + "_agent_comm").textContent = fmtMoney(agentComm);
      document.getElementById(prefix + "_tax_credit").textContent = fmtMoney(taxCredit);
      document.getElementById(prefix + "_closing_costs").textContent = fmtMoney(closingCosts);
      document.getElementById(prefix + "_gross").textContent = fmtMoney(gross);
      document.getElementById(prefix + "_net").textContent = fmtMoney(net);
    }

    function wireInputs() {
      const ids = [
        "hp1_rate","hp1_points","hp1_n","hp1_price","hp1_orig","hp1_down","hp1_tax_annual","hp1_hoa","hp1_ins","hp1_pmi",
        "hp2_rate","hp2_points","hp2_n","hp2_price","hp2_orig","hp2_down","hp2_tax_annual","hp2_hoa","hp2_ins","hp2_pmi",
        "hs1_mort_balance","hs1_sale_price","hs1_agent_pct","hs1_prop_tax","hs1_month_sold","hs1_repairs","hs1_atty",
        "hs2_mort_balance","hs2_sale_price","hs2_agent_pct","hs2_prop_tax","hs2_month_sold","hs2_repairs","hs2_atty"
      ];
      ids.forEach(id => {
        const el = document.getElementById(id);
        if (el) {
          el.addEventListener("input", recalcAll);
        }
      });
    }

    function recalcAll() {
      updateHomePurchase("hp1");
      updateHomePurchase("hp2");
      updateHomeSell("hs1");
      updateHomeSell("hs2");
    }

    document.addEventListener("DOMContentLoaded", function () {
      wireInputs();
      recalcAll();
    });
  </script>
</body>
</html>
